<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Get the contents of sqlca.sqlerrd[0..5] after a query</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.ifx-get-char.html">« ifx_get_char</a></li>
      <li style="float: right;"><a href="function.ifx-htmltbl-result.html">ifx_htmltbl_result »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.ifx.html">Informix Functions</a></li>
    <li>Get the contents of sqlca.sqlerrd[0..5] after a query</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.ifx-getsqlca" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ifx_getsqlca</h1>
  <p class="verinfo">(PHP 4, PHP 5 &lt; 5.2.1)</p><p class="refpurpose"><span class="refname">ifx_getsqlca</span> &mdash; <span class="dc-title">Get the contents of sqlca.sqlerrd[0..5] after a query</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ifx-getsqlca-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>ifx_getsqlca</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$result_id</code></span>
   ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   Returns a pseudo-row with sqlca.sqlerrd[0] ... sqlca.sqlerrd[5] after the
   query associated with <code class="parameter">result_id</code>.
  </p>
  <p class="para">
   For inserts, updates and deletes the values returned are those as set by
   the server after executing the query. This gives access to the number of
   affected rows and the serial insert value. For <code class="literal">SELECT</code>s
   the values are those saved after the <code class="literal">PREPARE</code> statement.
   This gives access to the *estimated* number of affected rows. The use of
   this function saves the overhead of executing a <code class="literal">SELECT 
   dbinfo(&#039;sqlca.sqlerrdx&#039;)</code> query, as it retrieves the values that
   were saved by the ifx driver at the appropriate moment.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ifx-getsqlca-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">result_id</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">result_id</code> is a valid result id returned by
       <span class="function"><a href="function.ifx-query.html" class="function">ifx_query()</a></span> or
       <span class="function"><a href="function.ifx-prepare.html" class="function">ifx_prepare()</a></span> (select type queries only!).
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ifx-getsqlca-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns an associative array with the following entries:
   <code class="literal">sqlerrd0</code>, <code class="literal">sqlerrd1</code>,
   <code class="literal">sqlerrd2</code>, <code class="literal">sqlerrd3</code>,
   <code class="literal">sqlerrd4</code> and <code class="literal">sqlerrd5</code>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ifx-getsqlca-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-1276">
    <p><strong>Example #1 Retrieve Informix sqlca.sqlerrd[x] values</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*&nbsp;assume&nbsp;the&nbsp;first&nbsp;column&nbsp;of&nbsp;'sometable'&nbsp;is&nbsp;a&nbsp;serial&nbsp;*/<br /></span><span style="color: #0000BB">$qid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ifx_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"insert&nbsp;into&nbsp;sometable<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;(0,&nbsp;'2nd&nbsp;column',&nbsp;'another&nbsp;column')&nbsp;"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$connid</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$qid</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;...&nbsp;error&nbsp;...&nbsp;*/<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">$sqlca&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ifx_getsqlca</span><span style="color: #007700">(</span><span style="color: #0000BB">$qid</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$serial_value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$sqlca</span><span style="color: #007700">[</span><span style="color: #DD0000">"sqlerrd1"</span><span style="color: #007700">];<br />echo&nbsp;</span><span style="color: #DD0000">"The&nbsp;serial&nbsp;value&nbsp;of&nbsp;the&nbsp;inserted&nbsp;row&nbsp;is&nbsp;:&nbsp;</span><span style="color: #0000BB">$serial_value</span><span style="color: #DD0000">&lt;br&nbsp;/&gt;\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>

</div></div></div></body></html>